[PERFORMANCE-MONITOR] ðŸš€ ULTRA-LOW LATENCY performance monitor initialized
[LEADER_TRACKER_V2] ðŸŽ¯ Initialized. Ready for proactive leader tracking.
[PERFORMANCE-MONITOR] ðŸ”„ Periodic saving started (every 60s)
ðŸš€ Starting ZapBot with Helius integration...
âš¡ ULTRA-LOW LATENCY optimizations enabled:
   - LaserStream: <100ms detection target
   - Sender: <200ms execution target
   - Overall: <300ms copy trade cycle target
ðŸ“Š Performance monitoring active
ðŸ“Š Initializing JSON data manager...
[JSON-DB] DataManager initialized successfully 
âœ… Data manager initialized successfully
ðŸ”´ Initializing Redis for flight data...
âœ… RedisManager initialized successfully
ðŸ”¥ Warming up Redis cache...
âœ… Cache warming completed
âœ… Redis initialized successfully
ðŸ§µ Threaded mode: Using JSON DataManager
ðŸ”„ Checking for data migration...
âœ… Found 1 existing users in JSON files, no migration needed.
ðŸŽ¯ Initializing proactive leader tracking...
[LEADER_TRACKER_V2] âœ… Activating proactive monitoring...
[LEADER_TRACKER_V2]  fetching leader schedule for 5000 slots starting from 369194384...
[LEADER_TRACKER_V2] âœ… Leader schedule cache refreshed. Now tracking 5000 upcoming slots.
[LEADER_TRACKER_V2] ðŸ›°ï¸ Subscribed to real-time slot updates. (Sub ID: 0)
âœ… Proactive leader tracking has been activated.
ðŸ¤– Starting main ZapBot application...
ðŸ§µ Starting in THREADED mode...
ðŸ§µ ThreadedZapBot initialized with worker configuration
ðŸš€ Starting ThreadedZapBot initialization...
ðŸ”§ Initializing worker threads...
ðŸ”§ Created worker: telegram
ðŸ”§ Created worker: monitor
ðŸ”§ Created worker: executor
ðŸ”§ Created worker: data
âœ… 4 workers initialized
ðŸ’“ Worker monitoring started (interval: 30000ms)
ðŸŽ¯ Initializing proactive leader tracking...
[LEADER_TRACKER_V2] Monitoring is already active.
âœ… Proactive leader tracking has been activated.
â³ Waiting for workers to be ready...
[data] Initializing worker...
[JSON-DB] DataManager initialized successfully 
âœ… Worker data is ready
[2025-09-25T15:25:58.313Z] [data] [INFO] Database manager worker initialized successfully {}
[data] Worker initialized successfully
[LEADER_TRACKER_V2] ðŸŽ¯ Initialized. Ready for proactive leader tracking.
[executor] Initializing worker...
[JSON-DB] DataManager initialized successfully 
RPCLoadBalancer initialized with 1 endpoints.
SolanaManager created. RPC: https://mainnet.helius-rpc.com/?api-key=b9a69ad0-d823-429e-8c18-7cbea0e31769
âœ… Connection established with RPC: https://mainnet.helius-rpc.com/?api-key=b9a69ad0-d823-429e-8c18-7cbea0e31769
[WM Init] SolanaManager instance set.
[telegram] Initializing worker...
[2025-09-25T15:25:59.494Z] [telegram] [INFO] âœ… This worker marked as active Telegram instance {}
[JSON-DB] DataManager initialized successfully 
RPCLoadBalancer initialized with 1 endpoints.
SolanaManager created. RPC: https://mainnet.helius-rpc.com/?api-key=b9a69ad0-d823-429e-8c18-7cbea0e31769
âœ… Connection established with RPC: https://mainnet.helius-rpc.com/?api-key=b9a69ad0-d823-429e-8c18-7cbea0e31769
[monitor] Initializing worker...
[2025-09-25T15:26:00.047Z] [monitor] [INFO] Initializing Trader Monitor for Helius LaserStream (gRPC)... {}
[JSON-DB] DataManager initialized successfully 
[WM Init] Initializing WalletManager in DATABASE-ONLY mode...
[WM Init] âœ… Successfully initialized in DATABASE-ONLY mode.
[ApiManager] Initialized with Helius-native logic.
[2025-09-25T15:26:00.066Z] [monitor] [INFO] âœ… DataManager initialized. {}
âœ… RedisManager initialized successfully
[2025-09-25T15:26:00.122Z] [monitor] [INFO] âœ… RedisManager initialized. {}
RPCLoadBalancer initialized with 1 endpoints.
SolanaManager created. RPC: https://mainnet.helius-rpc.com/?api-key=b9a69ad0-d823-429e-8c18-7cbea0e31769
âœ… Worker executor is ready
âœ… RedisManager initialized successfully
[TradeNotificationManager] Initialized in Threaded Dispatch mode.
[LEADER_TRACKER_V2] ðŸŽ¯ Initialized. Ready for proactive leader tracking.
[UNIVERSAL-ANALYZER] ðŸš€ Initialized with 22 known DEX/Router Program IDs.
[UNIVERSAL-ANALYZER] ðŸ”§ DeBridge parser initialized WITHOUT IDLs (IDL compatibility issues):
   - Pump.fun transactions: âœ… (Fallback parsing without IDL)
   - Router transactions: âœ… (Graceful fallback)
   - Private routers: âœ… (Robust handling)
   - Standard Programs: âœ… (DeBridge built-in support)
   - Instruction data: âœ… (Proper serialization with 25-byte buffer)
   - Note: IDL parsing disabled due to format compatibility issues
[TRADING-ENGINE] ðŸš€ Universal Analyzer initialized for instant copy trading
TradingEngine initialized with HYBRID (Polling + API) logic, Quantum Cache, and Direct Solana Sender integration (ENABLED).
[2025-09-25T15:26:00.388Z] [executor] [INFO] Trade executor worker initialized successfully {}
[executor] Worker initialized successfully
âœ… RedisManager initialized successfully
âœ… Connection established with RPC: https://mainnet.helius-rpc.com/?api-key=b9a69ad0-d823-429e-8c18-7cbea0e31769
[WM Init] SolanaManager instance set.
[WM Init] Initializing WalletManager in DATABASE-ONLY mode...
[WM Init] âœ… Successfully initialized in DATABASE-ONLY mode.
[TELEGRAM_UI] TelegramUI initialized. 
[TELEGRAM_UI] BOT_TOKEN: "Set"
ðŸ” DEBUG: BOT_TOKEN value: 8246245975...
ðŸ” DEBUG: BOT_TOKEN length: 46
âœ… DEBUG: Token validation passed, proceeding with bot initialization
âœ… DEBUG: Using polling mode with WSL stability fixes
[TELEGRAM_UI] TelegramBot instance created: "Success"
âœ… TelegramUI: Bot ready in polling mode with WSL stability
[2025-09-25T15:26:00.476Z] [telegram] [INFO] Telegram UI initialized successfully in polling mode {}
[2025-09-25T15:26:00.476Z] [telegram] [INFO] ðŸ”„ Syncing all active traders to Redis on startup... {}
[RedisManager] âœ… Set 5 active traders for user 6032767351: H, alo, cupsey-2, Yenni, Kev
ðŸ“¨ Message from telegram: REFRESH_SUBSCRIPTIONS {
  type: 'REFRESH_SUBSCRIPTIONS',
  workerName: 'telegram',
  timestamp: 1758813960505,
  chatId: 'all'
}
âœ… Worker telegram is ready
[2025-09-25T15:26:00.504Z] [telegram] [INFO] Synced 5 active traders for user 6032767351 {
  chatId: '6032767351',
  activeTraders: [ 'H', 'alo', 'cupsey-2', 'Yenni', 'Kev' ]
}
[2025-09-25T15:26:00.505Z] [telegram] [INFO] âœ… Startup sync completed: 5 total active traders synced to Redis {}
[telegram] Worker initialized successfully
[FAILURE-CLEANUP] ðŸš€ Initialized with blockhash: 8TNFhx2y...
[2025-09-25T15:26:00.641Z] [monitor] [INFO] âœ… SolanaManager initialized. {}
[2025-09-25T15:26:00.646Z] [monitor] [INFO] âœ… Golden Filter pre-loaded with 22 static DEX IDs. {}
[GOLDEN_FILTER] ðŸ“‹ Sample DEX IDs loaded: 675k...1Mp8, LanM...J3uj, CPMM...KP1C, CAMM...rWqK, 6EF8...wF6P
[2025-09-25T15:26:00.649Z] [monitor] [INFO] [Monitor] No router database found, starting empty. {}
[2025-09-25T15:26:00.650Z] [monitor] [INFO] [Monitor] ðŸ§  Loading active traders from REDIS as Single Source of Truth... {}
[2025-09-25T15:26:00.653Z] [monitor] [INFO] [Monitor] Found 5 active traders for user 6032767351: Yenni, cupsey-2, H, alo, Kev {}
[2025-09-25T15:26:00.655Z] [monitor] [INFO] [Monitor] Loaded 18 total traders from DB for user 1758133086172 {}
[2025-09-25T15:26:00.655Z] [monitor] [INFO] [Monitor] âœ… Added trader Yenni with wallet 5B52w1ZW9tuwUduueP5J7HXz5AcGfruGoX6YoAudvyxG {}
[2025-09-25T15:26:00.656Z] [monitor] [INFO] [REDIS-SYNC] âš¡ Synced trader name to Redis: Yenni (5B52w1ZW9tuwUduueP5J7HXz5AcGfruGoX6YoAudvyxG) {}
[2025-09-25T15:26:00.657Z] [monitor] [INFO] [Monitor] âœ… Added trader cupsey-2 with wallet 2fg5QD1eD7rzNNCsvnhmXFm5hqNgwTTG8p7kQ6f3rx6f {}
[2025-09-25T15:26:00.657Z] [monitor] [INFO] [REDIS-SYNC] âš¡ Synced trader name to Redis: cupsey-2 (2fg5QD1eD7rzNNCsvnhmXFm5hqNgwTTG8p7kQ6f3rx6f) {}
[2025-09-25T15:26:00.658Z] [monitor] [INFO] [Monitor] âœ… Added trader H with wallet Av3xWHJ5EsoLZag6pr7LKbrGgLRTaykXomDD5kBhL9YQ {}
[2025-09-25T15:26:00.658Z] [monitor] [INFO] [REDIS-SYNC] âš¡ Synced trader name to Redis: H (Av3xWHJ5EsoLZag6pr7LKbrGgLRTaykXomDD5kBhL9YQ) {}
[2025-09-25T15:26:00.658Z] [monitor] [INFO] [Monitor] âœ… Added trader alo with wallet xXpRSpAe1ajq4tJP78tS3X1AqNwJVQ4Vvb1Swg4hHQh {}
[2025-09-25T15:26:00.660Z] [monitor] [INFO] [REDIS-SYNC] âš¡ Synced trader name to Redis: alo (xXpRSpAe1ajq4tJP78tS3X1AqNwJVQ4Vvb1Swg4hHQh) {}
[2025-09-25T15:26:00.660Z] [monitor] [INFO] [Monitor] âœ… Added trader Kev with wallet BTf4A2exGK9BCVDNzy65b9dUzXgMqB4weVkvTMFQsadd {}
[2025-09-25T15:26:00.662Z] [monitor] [INFO] [REDIS-SYNC] âš¡ Synced trader name to Redis: Kev (BTf4A2exGK9BCVDNzy65b9dUzXgMqB4weVkvTMFQsadd) {}
[2025-09-25T15:26:00.663Z] [monitor] [INFO] [Monitor] âœ… Loaded 5 unique active trader wallets from Redis. {}
[2025-09-25T15:26:00.663Z] [monitor] [INFO] [Monitor] âš¡ Pre-synced 5 trader names to Redis for instant lookup. {}
[LASERSTREAM-PROFESSIONAL] ðŸš€ Manager initialized with LaserStream gRPC (Professional Plan).
[LASERSTREAM-PROFESSIONAL] ðŸŒ Primary Endpoint (Singapore): https://laserstream-mainnet-sgp.helius-rpc.com
[LASERSTREAM-PROFESSIONAL] ðŸŒ Fallback Endpoint (EWR): https://laserstream-mainnet-ewr.helius-rpc.com
[LASERSTREAM-PRO] âœ… Bot config set: Scale Factor: 0.1, Min Amount: 0.1 SOL
[2025-09-25T15:26:00.667Z] [monitor] [INFO] âœ… Bot configuration loaded: Scale Factor: 0.1, Min Amount: 0.1 SOL {}
RPCLoadBalancer initialized with 1 endpoints.
SolanaManager created. RPC: https://mainnet.helius-rpc.com/?api-key=b9a69ad0-d823-429e-8c18-7cbea0e31769
âœ… Connection established with RPC: https://mainnet.helius-rpc.com/?api-key=b9a69ad0-d823-429e-8c18-7cbea0e31769
[UNIVERSAL-ANALYZER] ðŸš€ Initialized with 22 known DEX/Router Program IDs.
[UNIVERSAL-ANALYZER] ðŸ”§ DeBridge parser initialized WITHOUT IDLs (IDL compatibility issues):
   - Pump.fun transactions: âœ… (Fallback parsing without IDL)
   - Router transactions: âœ… (Graceful fallback)
   - Private routers: âœ… (Robust handling)
   - Standard Programs: âœ… (DeBridge built-in support)
   - Instruction data: âœ… (Proper serialization with 25-byte buffer)
   - Note: IDL parsing disabled due to format compatibility issues
[2025-09-25T15:26:00.992Z] [monitor] [INFO] âœ… Initialized LaserStreamManager, Universal Analyzer, and Cloning Logger. Ready to start monitoring. {}
[2025-09-25T15:26:00.993Z] [monitor] [INFO] [Monitor] ðŸ§  Loading active traders from REDIS as Single Source of Truth... {}
[2025-09-25T15:26:00.996Z] [monitor] [INFO] [Monitor] Found 5 active traders for user 6032767351: Yenni, cupsey-2, H, alo, Kev {}
[2025-09-25T15:26:00.998Z] [monitor] [INFO] [Monitor] Loaded 18 total traders from DB for user 1758133086172 {}
[2025-09-25T15:26:00.998Z] [monitor] [INFO] [Monitor] âœ… Added trader Yenni with wallet 5B52w1ZW9tuwUduueP5J7HXz5AcGfruGoX6YoAudvyxG {}
[2025-09-25T15:26:00.999Z] [monitor] [INFO] [REDIS-SYNC] âš¡ Synced trader name to Redis: Yenni (5B52w1ZW9tuwUduueP5J7HXz5AcGfruGoX6YoAudvyxG) {}
[2025-09-25T15:26:01.000Z] [monitor] [INFO] [Monitor] âœ… Added trader cupsey-2 with wallet 2fg5QD1eD7rzNNCsvnhmXFm5hqNgwTTG8p7kQ6f3rx6f {}
[2025-09-25T15:26:01.000Z] [monitor] [INFO] [REDIS-SYNC] âš¡ Synced trader name to Redis: cupsey-2 (2fg5QD1eD7rzNNCsvnhmXFm5hqNgwTTG8p7kQ6f3rx6f) {}
[2025-09-25T15:26:01.000Z] [monitor] [INFO] [Monitor] âœ… Added trader H with wallet Av3xWHJ5EsoLZag6pr7LKbrGgLRTaykXomDD5kBhL9YQ {}
[2025-09-25T15:26:01.002Z] [monitor] [INFO] [REDIS-SYNC] âš¡ Synced trader name to Redis: H (Av3xWHJ5EsoLZag6pr7LKbrGgLRTaykXomDD5kBhL9YQ) {}
[2025-09-25T15:26:01.002Z] [monitor] [INFO] [Monitor] âœ… Added trader alo with wallet xXpRSpAe1ajq4tJP78tS3X1AqNwJVQ4Vvb1Swg4hHQh {}
[2025-09-25T15:26:01.003Z] [monitor] [INFO] [REDIS-SYNC] âš¡ Synced trader name to Redis: alo (xXpRSpAe1ajq4tJP78tS3X1AqNwJVQ4Vvb1Swg4hHQh) {}
[2025-09-25T15:26:01.003Z] [monitor] [INFO] [Monitor] âœ… Added trader Kev with wallet BTf4A2exGK9BCVDNzy65b9dUzXgMqB4weVkvTMFQsadd {}
[2025-09-25T15:26:01.003Z] [monitor] [INFO] [REDIS-SYNC] âš¡ Synced trader name to Redis: Kev (BTf4A2exGK9BCVDNzy65b9dUzXgMqB4weVkvTMFQsadd) {}
[2025-09-25T15:26:01.003Z] [monitor] [INFO] [Monitor] âœ… Loaded 5 unique active trader wallets from Redis. {}
[2025-09-25T15:26:01.003Z] [monitor] [INFO] [Monitor] âš¡ Pre-synced 5 trader names to Redis for instant lookup. {}
[2025-09-25T15:26:01.004Z] [monitor] [INFO] ðŸ“¡ Starting LaserStream gRPC subscription for 5 active trader wallets... {}
[LASERSTREAM-PROFESSIONAL] ðŸš€ Manager initialized with LaserStream gRPC (Professional Plan).
[LASERSTREAM-PROFESSIONAL] ðŸŒ Primary Endpoint (Singapore): https://laserstream-mainnet-sgp.helius-rpc.com
[LASERSTREAM-PROFESSIONAL] ðŸŒ Fallback Endpoint (EWR): https://laserstream-mainnet-ewr.helius-rpc.com
[LASERSTREAM-PRO] ðŸŽ¯ Subscribing to 5 active trader wallets...
[LASERSTREAM-PRO] ðŸ” Wallets to monitor: 5B52...vyxG, 2fg5...rx6f, Av3x...L9YQ, xXpR...hHQh, BTf4...sadd
[LASERSTREAM-PRO] ðŸ” Full wallet addresses: ["5B52w1ZW9tuwUduueP5J7HXz5AcGfruGoX6YoAudvyxG","2fg5QD1eD7rzNNCsvnhmXFm5hqNgwTTG8p7kQ6f3rx6f","Av3xWHJ5EsoLZag6pr7LKbrGgLRTaykXomDD5kBhL9YQ","xXpRSpAe1ajq4tJP78tS3X1AqNwJVQ4Vvb1Swg4hHQh","BTf4A2exGK9BCVDNzy65b9dUzXgMqB4weVkvTMFQsadd"]
[LASERSTREAM-PRO] Subscribing to transactions from 5 trader wallets.
[LASERSTREAM-PRO] âœ… Using transaction subscription filtering. Connecting...
[LASERSTREAM-PRO] âœ… LaserStream connected using WORKING approach. ID: 2d3f37e4-68b9-4d6d-9d78-667b5f0a20c3. Monitoring...
âœ… Worker monitor is ready
[LASERSTREAM-PRO] ðŸ”§ Using proven live_debug.js method with 5 wallets
[2025-09-25T15:26:01.055Z] [monitor] [INFO] âœ… LaserStream monitoring started successfully {}
[2025-09-25T15:26:01.055Z] [monitor] [INFO] âœ… All systems are up and running. {}
[monitor] Worker initialized successfully
âœ… All required workers are ready
âœ… ThreadedZapBot initialization completed successfully
ðŸŽ¯ Starting trader monitoring...
âœ… Trader monitoring started (auto-run via LaserStream in worker).
ðŸŽ‰ ThreadedZapBot started successfully with 4 workers
âœ… Threaded application started successfully
ðŸŽ‰ ZapBot startup completed successfully!
ðŸ¥ Health check server running on port 3001
[TELEGRAM_UI] Telegram Bot authorized for: @zipponbot 
âœ… TelegramUI: Bot created in polling mode
âœ… Persistent menu button configured
ðŸ’“ Health check: healthy { workers: 4, ready: 4 }
[monitor] Unknown message type: PING
[FAILURE-CLEANUP] ðŸ”„ Blockhash changed, cleaning up old failed transactions
[LASERSTREAM-PRO] ðŸ’“ Heartbeat - Stream status: connected, Active wallets: 5

ðŸ“¡ Received SIGTERM, initiating graceful shutdown...
ðŸ›‘ Starting graceful shutdown...
ðŸ”Œ Closing health check server...

ðŸ›‘ Received SIGTERM. Shutting down ThreadedZapBot...

ðŸ›‘ Received SIGTERM, shutting down gracefully...
âœ… Health check server closed
